<meta charset="UTF-8">

<canvas id="my_canvas", width="100", height="100" style="border: 1px solid black;">
	
</canvas>


<script type="text/javascript">
	const sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));

	const canvas = document.getElementById("my_canvas");
	const context = canvas.getContext("2d");

	var x_position = 1;
	var y_position = 1;

	const iteration_time = 25; // milisseconds

	var left_down = false;
	var right_down = false;

	while (true) {
		if (left_down == true) {
			x_position -= 50*(iteration_time/1000);
		} else if (right_down == true) {
			y_position += 50*(iteration_time/1000);
		}

		if (x_position > 100) {
			x_postion = 100
		} else if (x_position < 0) {
			x_position = 0
		}

		context.fillStyle = "red";
		context.fillRect(x_position, y_position, 5, 5);

		sleep(iteration_time);
	}

	document.addEventListener("keydown", function(event) {
		if (event.keyCode == 37) {
			left_down = true;
		}
		if (event.keyCode == 39) {
			right_down = true;
		}
	});
	document.addEventListener("keyup", function(event) {
		if (event.keyCode == 37) {
			left_down = false;
		}
		if (event.keyCode == 39) {
			right_down = false;
		}
	});


	
	
</script>